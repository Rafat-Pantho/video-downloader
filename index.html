<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Downloader</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <h1>Video Downloader</h1>
      </div>
      <div class="version">v3.0</div>
    </header>

    <!-- Status Banner -->
    <div id="statusBanner" class="status-banner hidden">
      <div class="status-content">
        <span class="status-icon">ℹ️</span>
        <span id="statusMessage"></span>
      </div>
      <button class="status-close" onclick="closeStatus()">×</button>
    </div>

    <!-- Main Content -->
    <main class="main-content">
      <!-- URL Input Section -->
      <section class="card">
        <h2>Video URL</h2>
        <div class="input-group">
          <input 
            type="text" 
            id="urlInput" 
            placeholder="Paste video URL here (YouTube, Facebook, Instagram, TikTok, etc.)" 
            class="input-primary"
          >
          <button id="fetchInfoBtn" class="btn btn-primary">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13 2L3 14H12L11 22L21 10H12L13 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Fetch Info
          </button>
        </div>
      </section>

      <!-- Video Info Section -->
      <section id="videoInfo" class="card hidden">
        <h2>Video Information</h2>
        <div class="video-info-content">
          <div class="video-thumbnail">
            <img id="videoThumbnail" src="" alt="Video thumbnail">
          </div>
          <div class="video-details">
            <div class="detail-item">
              <span class="detail-label">Title:</span>
              <span id="videoTitle" class="detail-value">-</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Duration:</span>
              <span id="videoDuration" class="detail-value">-</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Download Settings Section -->
      <section id="downloadSettings" class="card hidden">
        <h2>Download Settings</h2>
        
        <div class="form-group">
          <label for="folderInput">Save to Folder</label>
          <div class="input-group">
            <input 
              type="text" 
              id="folderInput" 
              placeholder="Select download folder" 
              class="input-secondary" 
              readonly
            >
            <button id="selectFolderBtn" class="btn btn-secondary">Browse</button>
          </div>
        </div>

        <div class="form-group">
          <label for="filenameInput">Filename (without extension)</label>
          <input 
            type="text" 
            id="filenameInput" 
            placeholder="Enter filename" 
            class="input-secondary"
          >
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="formatSelect">Format</label>
            <select id="formatSelect" class="select-primary">
              <option value="mp4">MP4 (Recommended)</option>
              <option value="mkv">MKV</option>
              <option value="webm">WebM</option>
              <option value="avi">AVI</option>
            </select>
          </div>

          <div class="form-group">
            <label for="qualitySelect">Quality</label>
            <select id="qualitySelect" class="select-primary">
              <option value="best">Best Available</option>
              <option value="1080p">1080p</option>
              <option value="720p">720p</option>
              <option value="480p">480p</option>
              <option value="audio">Audio Only</option>
            </select>
          </div>
        </div>

        <button id="downloadBtn" class="btn btn-success btn-large">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Start Download
        </button>
      </section>

      <!-- Progress Section -->
      <section id="progressSection" class="card hidden">
        <h2>Download Progress</h2>
        <div class="progress-container">
          <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
          </div>
          <div id="progressText" class="progress-text">0%</div>
        </div>
        <div id="progressMessage" class="progress-message">Initializing download...</div>
      </section>

      <!-- Complete Section -->
      <section id="completeSection" class="card hidden">
        <div class="complete-content">
          <div class="complete-icon">✅</div>
          <h2>Download Complete!</h2>
          <div class="complete-details">
            <div class="detail-item">
              <span class="detail-label">File:</span>
              <span id="completePath" class="detail-value">-</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Size:</span>
              <span id="completeSize" class="detail-value">-</span>
            </div>
          </div>
          <div class="complete-actions">
            <button id="openFolderBtn" class="btn btn-primary">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22 19C22 19.5304 21.7893 20.0391 21.4142 20.4142C21.0391 20.7893 20.5304 21 20 21H4C3.46957 21 2.96086 20.7893 2.58579 20.4142C2.21071 20.0391 2 19.5304 2 19V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3H9L11 6H20C20.5304 6 21.0391 6.21071 21.4142 6.58579C21.7893 6.96086 22 7.46957 22 8V19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Open Folder
            </button>
            <button id="downloadAnotherBtn" class="btn btn-secondary">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12S5 4 12 4s11 8 11 8-4 8-11 8S1 12 1 12z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Download Another
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <span>Powered by <strong>yt-dlp</strong></span>
        <span id="ytdlpVersion" class="version-info"></span>
      </div>
    </footer>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
